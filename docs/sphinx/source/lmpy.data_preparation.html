
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>lmpy.data_preparation package &#8212; Lifemapper lmpy 2.0.5 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="lmpy.randomize package" href="lmpy.randomize.html" />
    <link rel="prev" title="lmpy package" href="lmpy.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lmpy.randomize.html" title="lmpy.randomize package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lmpy.html" title="lmpy package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Lifemapper lmpy 2.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >lmpy</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="lmpy.html" accesskey="U">lmpy package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lmpy-data-preparation-package">
<h1>lmpy.data_preparation package<a class="headerlink" href="#lmpy-data-preparation-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lmpy.data_preparation.build_grid">
<span id="lmpy-data-preparation-build-grid-module"></span><h2>lmpy.data_preparation.build_grid module<a class="headerlink" href="#module-lmpy.data_preparation.build_grid" title="Permalink to this headline">¶</a></h2>
<p>Module containing methods to build a shapegrid</p>
<dl class="py function">
<dt id="lmpy.data_preparation.build_grid.build_shapegrid">
<code class="sig-prename descclassname">lmpy.data_preparation.build_grid.</code><code class="sig-name descname">build_shapegrid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapegrid_file_name</span></em>, <em class="sig-param"><span class="n">min_x</span></em>, <em class="sig-param"><span class="n">min_y</span></em>, <em class="sig-param"><span class="n">max_x</span></em>, <em class="sig-param"><span class="n">max_y</span></em>, <em class="sig-param"><span class="n">cell_size</span></em>, <em class="sig-param"><span class="n">epsg_code</span></em>, <em class="sig-param"><span class="n">cell_sides</span></em>, <em class="sig-param"><span class="n">site_id</span><span class="o">=</span><span class="default_value">'siteid'</span></em>, <em class="sig-param"><span class="n">site_x</span><span class="o">=</span><span class="default_value">'siteX'</span></em>, <em class="sig-param"><span class="n">site_y</span><span class="o">=</span><span class="default_value">'siteY'</span></em>, <em class="sig-param"><span class="n">cutout_wkt</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/build_grid.html#build_shapegrid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.build_grid.build_shapegrid" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a shapegrid with an optional cutout</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shapegrid_file_name</strong> (<em>str</em>) – The location to store the resulting
shapegrid.</p></li>
<li><p><strong>min_x</strong> (<em>numeric</em>) – The minimum value for X of the shapegrid.</p></li>
<li><p><strong>min_y</strong> (<em>numeric</em>) – The minimum value for Y of the shapegrid.</p></li>
<li><p><strong>max_x</strong> (<em>numeric</em>) – The maximum value for X of the shapegrid.</p></li>
<li><p><strong>max_y</strong> (<em>numeric</em>) – The maximum value for Y of the shapegrid.</p></li>
<li><p><strong>cell_size</strong> (<em>numeric</em>) – The size of each cell (in units indicated by EPSG)</p></li>
<li><p><strong>epsg_code</strong> (<em>int</em>) – The EPSG code for the new shapegrid.</p></li>
<li><p><strong>cell_sides</strong> (<em>int</em>) – The number of sides for each cell of the shapegrid.
4 - square cells, 6 - hexagon cells</p></li>
<li><p><strong>site_id</strong> (<em>str</em>) – The name of the site id field for the shapefile.</p></li>
<li><p><strong>site_x</strong> (<em>str</em>) – The name of the X field for the shapefile.</p></li>
<li><p><strong>site_y</strong> (<em>str</em>) – The name of the Y field for the shapefile.</p></li>
<li><p><strong>cutout_wkt</strong> (<em>None</em><em> or </em><em>str</em>) – WKT for an area of the shapegrid to be cut
out.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int - The number of cells in the new shapegrid</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.build_grid.hexagon_wkt_generator">
<code class="sig-prename descclassname">lmpy.data_preparation.build_grid.</code><code class="sig-name descname">hexagon_wkt_generator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_x</span></em>, <em class="sig-param"><span class="n">min_y</span></em>, <em class="sig-param"><span class="n">max_x</span></em>, <em class="sig-param"><span class="n">max_y</span></em>, <em class="sig-param"><span class="n">x_res</span></em>, <em class="sig-param"><span class="n">y_res</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/build_grid.html#hexagon_wkt_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.build_grid.hexagon_wkt_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator producing hexagonal WKT for cells of the shapegrid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_x</strong> (<em>numeric</em>) – The minimum x value</p></li>
<li><p><strong>min_y</strong> (<em>numeric</em>) – The minimum y value</p></li>
<li><p><strong>max_x</strong> (<em>numeric</em>) – The maximum x value</p></li>
<li><p><strong>max_y</strong> (<em>numeric</em>) – The maximum y value</p></li>
<li><p><strong>x_res</strong> (<em>numeric</em>) – The x size of the cell</p></li>
<li><p><strong>y_res</strong> (<em>numeric</em>) – The y size of the cell</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.build_grid.make_polygon_wkt_from_points">
<code class="sig-prename descclassname">lmpy.data_preparation.build_grid.</code><code class="sig-name descname">make_polygon_wkt_from_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/build_grid.html#make_polygon_wkt_from_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.build_grid.make_polygon_wkt_from_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a polygon WKT string from a list of points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>list of</em><em> (</em><em>x</em><em>, </em><em>y</em><em>) </em><em>tuples</em>) – A list of (x,y) points for each vertex
of the polygon.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Points should be ordered following right hand rule</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.build_grid.square_wkt_generator">
<code class="sig-prename descclassname">lmpy.data_preparation.build_grid.</code><code class="sig-name descname">square_wkt_generator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_x</span></em>, <em class="sig-param"><span class="n">min_y</span></em>, <em class="sig-param"><span class="n">max_x</span></em>, <em class="sig-param"><span class="n">max_y</span></em>, <em class="sig-param"><span class="n">x_res</span></em>, <em class="sig-param"><span class="n">y_res</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/build_grid.html#square_wkt_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.build_grid.square_wkt_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator producing square WKT for cells of the shapegrid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_x</strong> (<em>numeric</em>) – The minimum x value</p></li>
<li><p><strong>min_y</strong> (<em>numeric</em>) – The minimum y value</p></li>
<li><p><strong>max_x</strong> (<em>numeric</em>) – The maximum x value</p></li>
<li><p><strong>max_y</strong> (<em>numeric</em>) – The maximum y value</p></li>
<li><p><strong>x_res</strong> (<em>numeric</em>) – The x size of the cell</p></li>
<li><p><strong>y_res</strong> (<em>numeric</em>) – The y size of the cell</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lmpy.data_preparation.layer_encoder">
<span id="lmpy-data-preparation-layer-encoder-module"></span><h2>lmpy.data_preparation.layer_encoder module<a class="headerlink" href="#module-lmpy.data_preparation.layer_encoder" title="Permalink to this headline">¶</a></h2>
<p>This module contains a class for encoding spatial layers into a Matrix</p>
<p>The ‘LayerEncoder’ class uses a shapegrid to generate a base matrix structure
and then each layer is encoded as a new column (or columns) for the resulting
encoded matrix.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Data array is oriented at top left (min x, max y)</p>
</div>
<dl class="py class">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder">
<em class="property">class </em><code class="sig-prename descclassname">lmpy.data_preparation.layer_encoder.</code><code class="sig-name descname">LayerEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shapegrid_filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The LayerEncoder class encodes layers into matrix columns</p>
<dl class="py attribute">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.encoded_matrix">
<code class="sig-name descname">encoded_matrix</code><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.encoded_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>A Matrix object with encoded layers</p>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.encode_biogeographic_hypothesis">
<code class="sig-name descname">encode_biogeographic_hypothesis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layer_filename</span></em>, <em class="sig-param"><span class="n">column_name</span></em>, <em class="sig-param"><span class="n">min_coverage</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">- 9999</span></em>, <em class="sig-param"><span class="n">event_field</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.encode_biogeographic_hypothesis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.encode_biogeographic_hypothesis" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes a biogeographic hypothesis layer</p>
<p>Encodes a biogeographic hypothesis layer by creating a Helmert contrast
column in the encoded matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer_filename</strong> – The file location of the layer to encode.</p></li>
<li><p><strong>column_name</strong> – What to name this column in the encoded matrix.</p></li>
<li><p><strong>min_coverage</strong> – The minimum percentage of each data window that must
be covered.</p></li>
<li><p><strong>resolution</strong> – If the layer is a vector, optionally use this as the
resolution of the data grid.</p></li>
<li><p><strong>bbox</strong> – If the layer is a vector, optionally use this bounding box
for the data grid.</p></li>
<li><p><strong>nodata</strong> – If the layer is a vector, optionally use this as the data
grid nodata value.</p></li>
<li><p><strong>event_field</strong> – If the layer is a vector and contains multiple
hypotheses, use this field to separate the vector file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of column headers for the newly encoded columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.encode_largest_class">
<code class="sig-name descname">encode_largest_class</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layer_filename</span></em>, <em class="sig-param"><span class="n">column_name</span></em>, <em class="sig-param"><span class="n">min_coverage</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">- 9999</span></em>, <em class="sig-param"><span class="n">attribute_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.encode_largest_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.encode_largest_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes a layer based on the largest class in each data window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer_filename</strong> – The file location of the layer to encode.</p></li>
<li><p><strong>column_name</strong> – What to name this column in the encoded matrix.</p></li>
<li><p><strong>min_coverage</strong> – The minimum percentage of each data window that must
be the covered by the largest class.</p></li>
<li><p><strong>resolution</strong> – If the layer is a vector, optionally use this as the
resolution of the data grid.</p></li>
<li><p><strong>bbox</strong> – If the layer is a vector, optionally use this bounding box
for the data grid.</p></li>
<li><p><strong>nodata</strong> – If the layer is a vector, optionally use this as the data
grid nodata value.</p></li>
<li><p><strong>attribute_name</strong> – If the layer is a vector, use this field to
determine largest class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of column headers for the newly encoded columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.encode_mean_value">
<code class="sig-name descname">encode_mean_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layer_filename</span></em>, <em class="sig-param"><span class="n">column_name</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">- 9999</span></em>, <em class="sig-param"><span class="n">attribute_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.encode_mean_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.encode_mean_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes a layer based on the mean value for each data window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer_filename</strong> – The file location of the layer to encode.</p></li>
<li><p><strong>column_name</strong> – What to name this column in the encoded matrix.</p></li>
<li><p><strong>resolution</strong> – If the layer is a vector, optionally use this as the
resolution of the data grid.</p></li>
<li><p><strong>bbox</strong> – If the layer is a vector, optionally use this bounding box
for the data grid.</p></li>
<li><p><strong>nodata</strong> – If the layer is a vector, optionally use this as the data
grid nodata value.</p></li>
<li><p><strong>attribute_name</strong> – If the layer is a vector, use this field to
determine value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of column headers for the newly encoded columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.encode_presence_absence">
<code class="sig-name descname">encode_presence_absence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layer_filename</span></em>, <em class="sig-param"><span class="n">column_name</span></em>, <em class="sig-param"><span class="n">min_presence</span></em>, <em class="sig-param"><span class="n">max_presence</span></em>, <em class="sig-param"><span class="n">min_coverage</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bbox</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nodata</span><span class="o">=</span><span class="default_value">- 9999</span></em>, <em class="sig-param"><span class="n">attribute_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.encode_presence_absence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.encode_presence_absence" title="Permalink to this definition">¶</a></dt>
<dd><p>Encodes a distribution layer into a presence absence column</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>layer_filename</strong> – The file location of the layer to encode.</p></li>
<li><p><strong>column_name</strong> – What to name this column in the encoded matrix.</p></li>
<li><p><strong>min_presence</strong> – The minimum value that should be treated as presence.</p></li>
<li><p><strong>max_presence</strong> – The maximum value to be considered as present.</p></li>
<li><p><strong>min_coverage</strong> – The minimum percentage of each data window that must
be present to consider that cell present.</p></li>
<li><p><strong>resolution</strong> – If the layer is a vector, optionally use this as the
resolution of the data grid.</p></li>
<li><p><strong>bbox</strong> – If the layer is a vector, optionally use this bounding box
for the data grid.</p></li>
<li><p><strong>nodata</strong> – If the layer is a vector, optionally use this as the data
grid nodata value.</p></li>
<li><p><strong>attribute_name</strong> – If the layer is a vector, use this field to
determine presence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of column headers for the newly encoded columns</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.get_encoded_matrix">
<code class="sig-name descname">get_encoded_matrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.get_encoded_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.get_encoded_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the encoded matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The encoded matrix as a Matrix object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="lmpy.data_preparation.layer_encoder.LayerEncoder.get_geojson">
<code class="sig-name descname">get_geojson</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/layer_encoder.html#LayerEncoder.get_geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.layer_encoder.LayerEncoder.get_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats the encoded matrix as GeoJSON</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lmpy.data_preparation.occurrence_filters">
<span id="lmpy-data-preparation-occurrence-filters-module"></span><h2>lmpy.data_preparation.occurrence_filters module<a class="headerlink" href="#module-lmpy.data_preparation.occurrence_filters" title="Permalink to this headline">¶</a></h2>
<p>Module containing various filtering functions.</p>
<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_filters.get_bounding_box_filter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_filters.</code><code class="sig-name descname">get_bounding_box_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_x</span></em>, <em class="sig-param"><span class="n">min_y</span></em>, <em class="sig-param"><span class="n">max_x</span></em>, <em class="sig-param"><span class="n">max_y</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_filters.html#get_bounding_box_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_filters.get_bounding_box_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a filter function for the specified bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_index</strong> (<em>str</em><em> or </em><em>int</em>) – The index of the ‘x’ value for each point.</p></li>
<li><p><strong>y_index</strong> (<em>str</em><em> or </em><em>int</em>) – The index of the ‘y’ value for each point.</p></li>
<li><p><strong>min_x</strong> (<em>numeric</em>) – The minimum ‘x’ value for the bounding box.</p></li>
<li><p><strong>min_y</strong> (<em>numeric</em>) – The minimum ‘y’ value for the bounding box.</p></li>
<li><p><strong>max_x</strong> (<em>numeric</em>) – The maximum ‘x’ value for the bounding box.</p></li>
<li><p><strong>max_y</strong> (<em>numeric</em>) – The maximum ‘y’ value for the bounding box.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>function - A function that takes a point as input and returns a boolean</dt><dd><p>output indicating if the point is valid according to this filter.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_filters.get_data_flag_filter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_filters.</code><code class="sig-name descname">get_data_flag_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filter_flags</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_filters.html#get_data_flag_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_filters.get_data_flag_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a filter function for the specified flags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flag_field_index</strong> (<em>str</em><em> or </em><em>int</em>) – The index of the flag field for each
point.</p></li>
<li><p><strong>filter_flags</strong> (<em>list</em>) – A list of flag values that should be considered to
be invalid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>function - A function that takes a point as input and returns a boolean</dt><dd><p>output indicating if the point is valid according to this filter.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_filters.get_disjoint_geometries_filter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_filters.</code><code class="sig-name descname">get_disjoint_geometries_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geometry_wkts</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_filters.html#get_disjoint_geometries_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_filters.get_disjoint_geometries_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a filter function for disjoint geometries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geometries</strong> (<em>list of ogr.Geometry</em>) – A list of geometries to check for
intersection.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>function - A function that takes a point as input and returns a boolean</dt><dd><p>output indicating if the point is valid according to this filter.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_filters.get_intersect_geometries_filter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_filters.</code><code class="sig-name descname">get_intersect_geometries_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">geometry_wkts</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_filters.html#get_intersect_geometries_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_filters.get_intersect_geometries_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a filter function for intersecting the provided geometries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geometries</strong> (<em>list of ogr.Geometry</em>) – A list of geometries to check for
intersection.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>function - A function that takes a point as input and returns a boolean</dt><dd><p>output indicating if the point is valid according to this filter.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_filters.get_unique_localities_filter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_filters.</code><code class="sig-name descname">get_unique_localities_filter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_filters.html#get_unique_localities_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_filters.get_unique_localities_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a filter function that only allows unique (x, y) values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>function - A function that takes a point as input and returns a boolean</dt><dd><p>output indicating if the point is valid according to this filter.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lmpy.data_preparation.occurrence_transformation">
<span id="lmpy-data-preparation-occurrence-transformation-module"></span><h2>lmpy.data_preparation.occurrence_transformation module<a class="headerlink" href="#module-lmpy.data_preparation.occurrence_transformation" title="Permalink to this headline">¶</a></h2>
<p>This module contains tools for transforming raw occurrence data.</p>
<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_transformation.convert_delimited_to_point">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_transformation.</code><code class="sig-name descname">convert_delimited_to_point</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">species_getter</em>, <em class="sig-param">x_getter</em>, <em class="sig-param">y_getter</em>, <em class="sig-param">flags_getter=&lt;function none_getter&gt;</em>, <em class="sig-param">delimiter='</em>, <em class="sig-param">'</em>, <em class="sig-param">headers=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_transformation.html#convert_delimited_to_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_transformation.convert_delimited_to_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a file of delimited data into points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – A path to a file of delimited data.</p></li>
<li><p><strong>species_getter</strong> (<em>function</em><em> or </em><em>int</em>) – A method to get the species name or
a column index in a delimited file.</p></li>
<li><p><strong>x_getter</strong> (<em>function</em><em> or </em><em>int</em>) – A method to get the point x value or a
column index in a delimited file.</p></li>
<li><p><strong>y_getter</strong> (<em>function</em><em> or </em><em>int</em>) – A method to get the point y value or a
column index in a delimited file.</p></li>
<li><p><strong>flags_getter</strong> (<em>function</em><em> or </em><em>int</em>) – A method to get the point flags or a
column index in a delimited file.</p></li>
<li><p><strong>delimiter</strong> (<em>str</em>) – The delimiter of the delimited data.</p></li>
<li><p><strong>headers</strong> (<em>bool</em>) – Does the file have a header row.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of Point objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_transformation.convert_json_to_point">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_transformation.</code><code class="sig-name descname">convert_json_to_point</code><span class="sig-paren">(</span><em class="sig-param">json_obj</em>, <em class="sig-param">species_name_getter</em>, <em class="sig-param">x_getter</em>, <em class="sig-param">y_getter</em>, <em class="sig-param">flags_getter=&lt;function none_getter&gt;</em>, <em class="sig-param">point_iterator=&lt;built-in function iter&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_transformation.html#convert_json_to_point"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_transformation.convert_json_to_point" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of Points from a JSON object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_obj</strong> (<em>dict</em><em> or </em><em>list</em>) – A JSON object to get point records from.</p></li>
<li><p><strong>species_name_getter</strong> – A function for getting species name from a record.</p></li>
<li><p><strong>x_getter</strong> – A function for getting the ‘x’ value from a record.</p></li>
<li><p><strong>y_getter</strong> – A function for getting the ‘y’ value from a record.</p></li>
<li><p><strong>flags_getter</strong> – A function for getting the ‘flags’ value from a record.</p></li>
<li><p><strong>point_iterator</strong> – An iterator function to pull records from the JSON
object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of Point named tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_transformation.get_coordinate_converter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_transformation.</code><code class="sig-name descname">get_coordinate_converter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_epsg</span></em>, <em class="sig-param"><span class="n">out_epsg</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_transformation.html#get_coordinate_converter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_transformation.get_coordinate_converter" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a function to convert points from one coordinate system to another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_epsg</strong> (<em>int</em>) – The EPSG code of the incoming points.</p></li>
<li><p><strong>out_epsg</strong> (<em>int</em>) – The target EPSG code for output points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A function that takes a point and returns a new point</dt><dd><p>with the coordinates converted.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>function(point)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="lmpy.data_preparation.occurrence_transformation.none_getter">
<code class="sig-prename descclassname">lmpy.data_preparation.occurrence_transformation.</code><code class="sig-name descname">none_getter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/lmpy/data_preparation/occurrence_transformation.html#none_getter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lmpy.data_preparation.occurrence_transformation.none_getter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return None as a function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None - Always returns None.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-lmpy.data_preparation">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lmpy.data_preparation" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lmpy.data_preparation package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lmpy.data_preparation.build_grid">lmpy.data_preparation.build_grid module</a></li>
<li><a class="reference internal" href="#module-lmpy.data_preparation.layer_encoder">lmpy.data_preparation.layer_encoder module</a></li>
<li><a class="reference internal" href="#module-lmpy.data_preparation.occurrence_filters">lmpy.data_preparation.occurrence_filters module</a></li>
<li><a class="reference internal" href="#module-lmpy.data_preparation.occurrence_transformation">lmpy.data_preparation.occurrence_transformation module</a></li>
<li><a class="reference internal" href="#module-lmpy.data_preparation">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lmpy.html"
                        title="previous chapter">lmpy package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lmpy.randomize.html"
                        title="next chapter">lmpy.randomize package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/source/lmpy.data_preparation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lmpy.randomize.html" title="lmpy.randomize package"
             >next</a> |</li>
        <li class="right" >
          <a href="lmpy.html" title="lmpy package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Lifemapper lmpy 2.0.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >lmpy</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="lmpy.html" >lmpy package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Lifemapper Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.3.
    </div>
  </body>
</html>