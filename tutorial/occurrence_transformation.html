

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Delimited to Points &mdash; Lifemapper lmpy 3.0.0b1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PAM Randomization and Null Models" href="pam_randomization.html" />
    <link rel="prev" title="Occurrence Filters" href="occurrence_filters.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Lifemapper lmpy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pages/installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorial.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="build_grid.html">Build Shapegrid</a></li>
<li class="toctree-l2"><a class="reference internal" href="layer_encoder.html">Layer Encoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrix.html">Matrix Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="occurrence_filters.html">Occurrence Filters</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Delimited to Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-to-points">JSON to Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="#convert-coordinate-systems">Convert Coordinate Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="pam_randomization.html">PAM Randomization and Null Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="pam_statistics.html">PAM Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_stats.html">Running Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="tree.html">TreeWrapper Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pages/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">Module documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Lifemapper lmpy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="tutorial.html">Tutorials</a> &raquo;</li>
        
      <li>Delimited to Points</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tutorial/occurrence_transformation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="delimited-to-points">
<h1>Delimited to Points<a class="headerlink" href="#delimited-to-points" title="Permalink to this headline">¶</a></h1>
<p>Converting delimited data (tab, comma, or other) to points can be done using
<a class="reference external" href="../source/lmpy.data_preparation.html#lmpy.data_preparation.occurrence_transformation.convert_delimited_to_point">convert_delimited_to_point</a>
You can use column indices or getter methods like ‘itemgetter’ to get values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csv_filename</span> <span class="o">=</span> <span class="s1">&#39;points.csv&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">species_column</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_column</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y_column</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">convert_delimited_to_point</span><span class="p">(</span><span class="n">csv_filename</span><span class="p">,</span> <span class="n">species_column</span><span class="p">,</span> <span class="n">itemgetter</span><span class="p">(</span><span class="n">x_column</span><span class="p">),</span> <span class="n">y_column</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="json-to-points">
<h1>JSON to Points<a class="headerlink" href="#json-to-points" title="Permalink to this headline">¶</a></h1>
<p>Point data can be extracted from JSON data as well by using dictionary keys or
getter functions.  Combined with an optional iterator function, even
complicated JSON data structures can be processed to extract occurrence point
information.</p>
<p>See: <a class="reference external" href="../source/lmpy.data_preparation.html#lmpy.data_preparation.occurrence_transformation.convert_delimited_to_point">convert_json_to_point</a></p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operation</span> <span class="k">import</span> <span class="n">itemgetter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">point_data</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    &#39;title&#39;: &#39;My points&#39;,</span>
<span class="go">    &#39;date&#39;: &#39;May 13, 2020&#39;,</span>
<span class="go">    &#39;data&#39;: [</span>
<span class="go">        {&#39;species&#39;: &#39;Test species&#39;, &#39;x&#39;: -30, &#39;y&#39;: 20},</span>
<span class="go">        {&#39;species&#39;: &#39;Test species&#39;, &#39;x&#39;: -40, &#39;y&#39;: 21},</span>
<span class="go">        {&#39;species&#39;: &#39;Test species&#39;, &#39;x&#39;: -32, &#39;y&#39;: 22},</span>
<span class="go">        {&#39;species&#39;: &#39;Test species&#39;, &#39;x&#39;: -28, &#39;y&#39;: 19},</span>
<span class="go">    ]</span>
<span class="go">    }</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">convert_json_to_point</span><span class="p">(</span><span class="n">point_data</span><span class="p">,</span> <span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">),</span> <span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">),</span> <span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">),</span> <span class="n">point_iterator</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="convert-coordinate-systems">
<h1>Convert Coordinate Systems<a class="headerlink" href="#convert-coordinate-systems" title="Permalink to this headline">¶</a></h1>
<p>The ‘get_coordinate_converter’ function returns a function that will convert
the X and Y coordinates of points provided to it from the original coordinate
system to the specified target coordinate system.</p>
<p>See: <a class="reference external" href="../source/lmpy.data_preparation.html#lmpy.data_preparation.occurrence_transformation.get_coordinate_converter">get_coordinate_converter</a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>          <span class="n">Point</span><span class="p">(</span><span class="s1">&#39;Test species&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="gp">... </span>          <span class="n">Point</span><span class="p">(</span><span class="s1">&#39;Test species&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">33</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>
<span class="gp">... </span>          <span class="n">Point</span><span class="p">(</span><span class="s1">&#39;Test species&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">28</span><span class="p">,</span> <span class="mi">18</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">converter</span> <span class="o">=</span> <span class="n">get_coordinate_converter</span><span class="p">(</span><span class="mi">4326</span><span class="p">,</span> <span class="mi">2815</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_points</span> <span class="o">=</span> <span class="p">[</span><span class="n">converter</span><span class="p">(</span><span class="n">pt</span><span class="p">)</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">points</span><span class="p">]</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="pam_randomization.html" class="btn btn-neutral float-right" title="PAM Randomization and Null Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="occurrence_filters.html" class="btn btn-neutral float-left" title="Occurrence Filters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Lifemapper Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>